<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../src/css/receitas.css">
    <title>Brigadeiro</title>
</head>
<body>
    <header>
        <h1>Receita: Brigadeiro</h1>
    </header>
    <main>
        <h2>Ingredientes</h2>
        <img src="../src/img/brigadeiro.jpg" alt="Brigadeiro">
        <ul>
            <li>1 lata de leite condensado</li>
            <li>2 colheres de sopa de chocolate em pó</li>
            <li>1 colher de sopa de manteiga</li>
            <li>Granulado para decoração</li>
        </ul>
        <h2>Modo de preparo</h2>
        <p>1. Misture o leite condensado, o chocolate em pó e a manteiga em uma panela.</p>
        <p>2. Leve ao fogo baixo, mexendo sempre, até que a mistura desgrude do fundo da panela.</p>
        <p>3. Deixe esfriar e, com as mãos untadas, modele bolinhas.</p>
        <p>4. Passe as bolinhas no granulado e coloque em forminhas.</p>
        <div id="links">
            <a href="../receitas.html">Voltar às receitas</a>
            <a href="../index.html">Voltar ao início</a>
        </div>

        <h2>Comentários</h2>
        <div id="comentarios">
        </div>

        <form id="formComentario">
            <textarea id="comentarioText" placeholder="Deixe seu comentário..." rows="4" cols="50" required></textarea><br>
            <button type="submit">Enviar Comentário</button>
        </form>

    </main>
    <footer>
        <p>© 2024 Mundo da Culinária. Todos os direitos reservados.</p>
    </footer>

    <script>
        const tituloReceita = "Lasanha de Camarão"; 

        function exibirComentarios() {
            const comentariosDiv = document.getElementById('comentarios');
            comentariosDiv.innerHTML = ''; 

            const comentarios = JSON.parse(localStorage.getItem(tituloReceita)) || [];

            comentarios.forEach((comentario, index) => {
                const comentarioElemento = document.createElement('div');
                comentarioElemento.classList.add('comentario');
                comentarioElemento.innerHTML = `<p><strong>Comentário ${index + 1}:</strong> ${comentario}</p>`;
                comentariosDiv.appendChild(comentarioElemento);
            });
        }

        function adicionarComentario(event) {
            event.preventDefault();

            const comentarioText = document.getElementById('comentarioText').value;
            if (comentarioText.trim() === '') {
                alert('Por favor, digite um comentário.');
                return;
            }

            const comentarios = JSON.parse(localStorage.getItem(tituloReceita)) || [];
            comentarios.push(comentarioText);
            localStorage.setItem(tituloReceita, JSON.stringify(comentarios));

            document.getElementById('comentarioText').value = '';
            exibirComentarios();
        }

        document.getElementById('formComentario').addEventListener('submit', adicionarComentario);

        window.onload = exibirComentarios;
    </script>

    <body data-audio="../src/audio/brigadeiro_audio.mp3">

        <script src="../src/js/audio.js"></script>

</body>
</html>
